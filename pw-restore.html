<!DOCTYPE html>
<html lang="en">
<head>
	<title>Oficina Virtual Personal</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.png"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--========================================f=======================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main-pw.css">
<!--===============================================================================================-->
</head>

<body>
	<div class="limiter">
		<div class="container-login100">
			<!-- Inicio HEADER-->
			<div class="row justify-content-center header col-12">
				<img src="images/logo.png" alt="logo-afp">
			</div>
			<!-- Fin HEADER-->

			<!-- Inicio Contenido principal-->
			<div class="wrap-login100">

				<!-- Inicio seccion inputs de nueva contraseña-->
				<form class="login100-form validate-form col-12">
					<span class="login100-form-title">
						A continuación deberás ingresar los datos
						solicitados para cambiar tu contraseña
						de Oficina Virtual Personal.
					</span>
					<!-- Inicio inputs de nueva contraseña-->
					<div class="wrap-input100">

							<div class="wrap-input100">

								<!-- inicio Espacio donde aparecera el mensaje de contraseña debil,media o fuerte -->
								<span id="msg"></span>
								<!-- fin Espacio donde aparecera el mensaje de contraseña debil,media o fuerte -->

								<div class="input-group mb-2 mr-sm-2">
									<div class="input-group-prepend">
										<div class="input-group-text"><i class="fa fa-eye-slash custom-fa" id="eye"></i></div>
									</div>
								</div>

								<input class="input100" type="password" name="pass" placeholder="Introduce tu Contraseña Nueva" id="new-password"
									onkeyup="validatePassword(this.value)" maxlength="13">
								
								<span class="focus-input100"></span>
								<span class="symbol-input100">
									<i class="fa fa-lock custom-fa1" aria-hidden="true"></i>
								</span>

							</div>

							<div class="wrap-input100">

								
								<div class="input-group mb-2 mr-sm-2">
									<div class="input-group-prepend">
										<div class="input-group-text"><i class="fa fa-eye-slash custom-fa" id="eye2"></i></div>
									</div>
								</div>
								 
								<input class="input100" type="password" name="pass" placeholder="Confirmar tu Contraseña Nueva" id="confirm-password">
								<span class="focus-input100"></span>
								<span class="symbol-input100">
									<i class="fa fa-lock custom-fa1" aria-hidden="true"></i>
								</span>
								
							</div>
					</div>
					<!-- Inicio inputs de nueva contraseña-->
				
					<!-- Inicio Boton Actualizar PSW-->
					<div class="container-login100-form-btn">
						<button class="login100-form-btn">
							Actualizar Contraseña
						</button>
					</div>
					<!-- Fin Boton Actualizar PSW-->
				</form>
				<!-- Fin seccion inputs de nueva contraseña-->

				<!--INICIO MODAL DE IMAGEN DE TIPS DE SEGURIDAD-->
				<div class="modal fade bd-example-modal-lg show" id="myModal" role="dialog">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body" id="dynamic-content">
								<img src="/images/pop-up-22-mayo.png" class="img-fluid" alt="" />
							</div>
						</div>
					</div>
				</div>
				<!--FIN MODAL DE IMAGEN DE TIPS DE SEGURIDAD-->
				
				<!-- Inicio Tip de Seguridad-->
				<div class="text-center custom-text-link">
					<a class="txt2">
						<i class="fa fa-lightbulb-o m-l-5" aria-hidden="true"></i>
						Tips de Seguridad
					</a>

					
				</div>
				<div class="tips-seguridad">
					<p>• Cada 90 días se te solicitará cambio de contraseña.</p>
					<p>• La contraseña debe contener al menos un carácter en mayúscula y otro en minúscula.</p>
					<p>• La contraseña debe contener entre 8 - 13 caracteres.</p>
					<p>• La contraseña debe contener números y al menos un carácter especial. (#,$,/,!,@,etc...)</p>
					<p>• No debe contener el nombre del usuario.</p>
					<p>• La contraseña no debe haber sido utilizada anteriormente.</p>
					
				</div>
				<!-- Fin Tip de Seguridad-->
			</div>
			<!-- Fin Contenido principal-->

			<!-- Inicio Footer-->
			<div class="row justify-content-center footer borde5 col-12">
				<span class="footer-text">
					<p>AFP Atlántida Copyright ©. Todos los derechos reservados</p>
				</span>
			</div>
			<!-- Fin Footer-->
		</div>
	</div>

<!--===============================================================================================-->	
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/tilt/tilt.jquery.min.js"></script>

	<script >
		$('.js-tilt').tilt({
			scale: 1.1
		})
	</script>

<!--===============================================================================================-->
	<script src="js/main.js"></script>

	<!--Inicio de Script para mostrar/ocultar la contraseña-->
	<script>
	
	$(function() {

		$('#eye').click(function(){

			if($(this).hasClass('fa-eye-slash')){

				$(this).removeClass('fa-eye-slash');

				$(this).addClass('fa-eye');

				$('#new-password').attr('type','text');

			}else{

				$(this).removeClass('fa-eye');

				$(this).addClass('fa-eye-slash');

				$('#new-password').attr('type','password');
			}
		});
	});
	</script>


	<script>

		$(function () {

			$('#eye2').click(function () {

				if ($(this).hasClass('fa-eye-slash')) {

					$(this).removeClass('fa-eye-slash');

					$(this).addClass('fa-eye');

					$('#confirm-password').attr('type', 'text');

				} else {

					$(this).removeClass('fa-eye');

					$(this).addClass('fa-eye-slash');

					$('#confirm-password').attr('type', 'password');
				}
			});
		});
		
	</script>
	<!--Fin de Script para mostrar/ocultar la contraseña-->


	<!--Inicio de Script para validar que coincidan las contraseñas de ambos campos-->
	<script>
	
	var password = document.getElementById("new-password")
	, confirm_password = document.getElementById("confirm-password");

	function validatePassword(){
	if(password.value != confirm_password.value) {
	confirm_password.setCustomValidity("Las contraseñas no coinciden. Por favor corrige los campos anteriores.");
	} else {
	confirm_password.setCustomValidity('');
	}
	}

	password.onchange = validatePassword;
	confirm_password.onkeyup = validatePassword;
	
	</script>
	<!--Fin de Script para validar que coincidan las contraseñas de ambos campos-->

	<!--Inicio de Script para validar seguridad de Password-->
	<script>

		// Aqui no se si abra alguna variable que almacene el username del usuario aunque el no lo pueda ver, de no haberlo, entonces eliminar esta constante y tambien el if (password,includes(username)
		const username = "Fernando Soto";

		function validatePassword(password) {

			// Do not show anything when the length of password is zero.
			if (password.length === 0) {
				document.getElementById("msg").innerHTML = "";
				return;
			}

			// Password is invalide if it's the same as username
			 if (password.includes(username)) {
			 document.getElementById("msg").innerHTML = "La contraseña no debe contener el nombre de usuario.";
			 return;
			 }

			// Create an array and push all possible values that you want in password
			var matchedCase = new Array();
			matchedCase.push("[$@$!%*#?&]"); // Special Charector
			matchedCase.push("[A-Z]"); // Uppercase Alpabates
			matchedCase.push("[0-9]"); // Numbers
			matchedCase.push("[a-z]"); // Lowercase Alphabates
			
	
			// Check the conditions
			var ctr = 0;
			for (var i = 0; i < matchedCase.length; i++) {
				if (new RegExp(matchedCase[i]).test(password)) {
					ctr++;
				}
			}
			// Display it
			var color = "";
			var strength = "";
			switch (ctr) {
				case 0:
				case 1:
				case 2:
					strength = "Contraseña Débil";
					color = "red";
					break;
				case 3:
					strength = "Contraseña Regular";
					color = "orange";
					break;
				case 4:
					strength = "Contraseña Fuerte";
					color = "green";
					break;
			}
			document.getElementById("msg").innerHTML = strength;
			document.getElementById("msg").style.color = color;
		}
	</script>
	<!--Fin de Script para validar seguridad de Password-->

</body>
</html>